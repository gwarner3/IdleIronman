@model IdleIronman.ViewModels.TeamStatsListViewModel
@{
    ViewBag.Title = "DisplayStats";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>DisplayStats</h2>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>
                        Team ID
                    </th>
                    <th>
                        Name and photo
                    </th>
                    <th>
                        Timeline
                    </th>
                    <th>
                        Members
                    </th>
                    <th>
                        Progress
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var record in Model.TeamStats)
                {
                    <tr>
                        <td>
                            @record.TeamId
                        </td>
                        <td>
                            @record.TeamName<br/>
                            <img src="~/Content/Images/@record.TeamPhotoName" /><br/>
                            @*@record.Chart.Write(format: "png")*@
                            <img src="@Url.Action("MakeChart", "Participant", new { model = @Model})"/>

                        </td>
                        <td>
                            Started: @record.StartDate.ToShortDateString()<br/>
                            Days left: @record.DaysLeft
                        </td>
                        <td>
                            @foreach (var member in record.Teammates)
                            {
                                <text>@member.FirstName @member.LastName</text> @Html.ActionLink("view stats", "Index", "Participant", new {id = member.Id}, null) <br/>
                            }
                        </td>
                        <td>
                            Total Swim: @record.TotalSwimDistance<br/>
                            Total Run: @record.TotalRunDistance<br/>
                            Total Bike: @record.TotalBikeDistance
                        </td>
                    </tr>
                }
            </tbody>
        </table>    
